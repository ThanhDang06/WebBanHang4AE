@model WBH.Models.Order
@{
    ViewBag.Title = "OrderDetails";
    Layout = "~/Views/Shared/WBH.cshtml";
}
<h2>Chi tiết đơn hàng #@Model.IDOrder</h2>

<p><strong>Khách hàng:</strong> @Model.FullName</p>
<p><strong>Điện thoại:</strong> @Model.Phone</p>
<p><strong>Địa chỉ:</strong> @Model.AddressDelivery</p>
<p><strong>Thanh toán:</strong> @Model.PaymentMethod</p>
<p><strong>Ngày đặt:</strong> @(Model.DateOrder?.ToString("dd/MM/yyyy") ?? "-")</p>
<p><strong>Ghi chú:</strong> @(string.IsNullOrWhiteSpace(Model.Note) ? "-" : Model.Note)</p>

<h3>Chi tiết sản phẩm</h3>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Sản phẩm</th>
            <th>Màu</th>
            <th>Size</th>
            <th>Số lượng</th>
            <th>Giá</th>
            <th>Thành tiền</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.OrderDetails != null && Model.OrderDetails.Any())
        {
            foreach (var item in Model.OrderDetails)
            {
                <tr>
                    <td>@(item.Product?.ProductName ?? "Không xác định")</td>
                    <td>@(item.ProductColor?.ColorName ?? "-")</td>
                    <td>@(item.ProductSize?.SizeName ?? "-")</td>
                    <td>@item.Quantity</td>
                    <td>@(item.Price?.ToString("N0") ?? "0")₫</td>
                    <td>@(((decimal)(item.Quantity * (item.Price ?? 0))).ToString("N0"))₫</td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="6" class="text-center">Không có sản phẩm nào</td>
            </tr>
        }
    </tbody>
</table>

<p><strong>Tổng tiền: @(Model.Total?.ToString("N0") ?? "0")₫</strong></p>